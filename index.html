<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>vObject by eventable</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">vObject</h1>
      <h2 class="project-tagline">vObject is a full featured Python package for parsing and generating vCard and vCalendar files</h2>
      <a href="https://github.com/eventable/vobject" class="btn">View on GitHub</a>
      <a href="https://github.com/eventable/vobject/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/eventable/vobject/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="vobject" class="anchor" href="#vobject" aria-hidden="true"><span class="octicon octicon-link"></span></a>vObject</h1>

<p>vObject simplifies the process of parsing and creating iCalendar and
vCard objects.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>To install vObject, run::</p>

<p>python setup.py install</p>

<p>vobject requires the dateutil package, which can be installed via
easy_install or downloaded from <a href="http://labix.org/python-dateutil">http://labix.org/python-dateutil</a></p>

<h2>
<a id="running-tests" class="anchor" href="#running-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running tests</h2>

<p>Unit tests live in doctests throughout the source code, to run all tests, use::</p>

<p>python tests/tests.py</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Creating iCalendar objects
..........................</p>

<p>vobject has a basic datastructure for working with iCalendar-like
syntaxes.  Additionally, it defines specialized behaviors for many of
the commonly used iCalendar objects.</p>

<p>To create an object that already has a behavior defined, run:</p>

<blockquote>
<blockquote>
<blockquote>
<p>import vobject
cal = vobject.newFromBehavior('vcalendar')
cal.behavior
</p>
</blockquote>
</blockquote>
</blockquote>

<p>Convenience functions exist to create iCalendar and vCard objects:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal = vobject.iCalendar()
cal.behavior

card = vobject.vCard()
card.behavior
</p>
</blockquote>
</blockquote>
</blockquote>

<p>Once you have an object, you can use the add method to create
children:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal.add('vevent')

cal.vevent.add('summary').value = "This is a note"
cal.prettyPrint()
 VCALENDAR
    VEVENT
       SUMMARY: This is a note</p>
</blockquote>
</blockquote>
</blockquote>

<p>Note that summary is a little different from vevent, it's a
ContentLine, not a Component.  It can't have children, and it has a
special value attribute.</p>

<p>ContentLines can also have parameters.  They can be accessed with
regular attribute names with _param appended:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal.vevent.summary.x_random_param = 'Random parameter'
cal.prettyPrint()
 VCALENDAR
    VEVENT
       SUMMARY: This is a note
       params for  SUMMARY:
          X-RANDOM ['Random parameter']</p>
</blockquote>
</blockquote>
</blockquote>

<p>There are a few things to note about this example</p>

<ul>
<li>The underscore in x_random is converted to a dash (dashes are
legal in iCalendar, underscores legal in Python)</li>
<li>X-RANDOM's value is a list.</li>
</ul>

<p>If you want to access the full list of parameters, not just the first,
use _paramlist:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal.vevent.summary.x_random_paramlist
['Random parameter']
cal.vevent.summary.x_random_paramlist.append('Other param')
cal.vevent.summary
<summary></summary></p>
</blockquote>
</blockquote>
</blockquote>

<p>Similar to parameters, If you want to access more than just the first
child of a Component, you can access the full list of children of a
given name by appending _list to the attribute name:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal.add('vevent').add('summary').value = "Second VEVENT"
for ev in cal.vevent_list:
...     print ev.summary.value
This is a note
Second VEVENT</p>
</blockquote>
</blockquote>
</blockquote>

<p>The interaction between the del operator and the hiding of the
underlying list is a little tricky, del cal.vevent and del
cal.vevent_list both delete all vevent children:</p>

<blockquote>
<blockquote>
<blockquote>
<p>first_ev = cal.vevent
del cal.vevent
cal

cal.vevent = first_ev</p>
</blockquote>
</blockquote>
</blockquote>

<p>vobject understands Python's datetime module and tzinfo classes.</p>

<blockquote>
<blockquote>
<blockquote>
<p>import datetime
utc = vobject.icalendar.utc
start = cal.vevent.add('dtstart')
start.value = datetime.datetime(2006, 2, 16, tzinfo = utc)
first_ev.prettyPrint()
     VEVENT
        DTSTART: 2006-02-16 00:00:00+00:00
        SUMMARY: This is a note
        params for  SUMMARY:
           X-RANDOM ['Random parameter', 'Other param']</p>
</blockquote>
</blockquote>
</blockquote>

<p>Components and ContentLines have serialize methods:</p>

<blockquote>
<blockquote>
<blockquote>
<p>cal.vevent.add('uid').value = 'Sample UID'
icalstream = cal.serialize()
print icalstream
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//PYVOBJECT//NONSGML Version 1//EN
BEGIN:VEVENT
UID:Sample UID
DTSTART:20060216T000000Z
SUMMARY;X-RANDOM=Random parameter,Other param:This is a note
END:VEVENT
END:VCALENDAR</p>
</blockquote>
</blockquote>
</blockquote>

<p>Observe that serializing adds missing required lines like version and
prodid.  A random UID would be generated, too, if one didn't exist.</p>

<p>If dtstart's tzinfo had been something other than UTC, an appropriate
vtimezone would be created for it.</p>

<p>Parsing iCalendar objects
.........................</p>

<p>To parse one top level component from an existing iCalendar stream or
string, use the readOne function:</p>

<blockquote>
<blockquote>
<blockquote>
<p>parsedCal = vobject.readOne(icalstream)
parsedCal.vevent.dtstart.value
datetime.datetime(2006, 2, 16, 0, 0, tzinfo=tzutc())</p>
</blockquote>
</blockquote>
</blockquote>

<p>Similarly, readComponents is a generator yielding one top level
component at a time from a stream or string.</p>

<blockquote>
<blockquote>
<blockquote>
<p>vobject.readComponents(icalstream).next().vevent.dtstart.value
datetime.datetime(2006, 2, 16, 0, 0, tzinfo=tzutc())</p>
</blockquote>
</blockquote>
</blockquote>

<p>More examples can be found in source code doctests.</p>

<p>vCards
......</p>

<p>Making vCards proceeds in much the same way. Note that the 'N' and 'FN'
attributes are required.</p>

<blockquote>
<blockquote>
<blockquote>
<p>j = vobject.vCard()
j.add('n')
 
j.n.value = vobject.vcard.Name( family='Harris', given='Jeffrey' )
j.add('fn')
 
j.fn.value ='Jeffrey Harris'
j.add('email')
 
j.email.value = '<a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>'
j.email.type_param = 'INTERNET'
j.prettyPrint()
 VCARD
    EMAIL: <a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>
    params for  EMAIL:
       TYPE ['INTERNET']
    FN: Jeffrey Harris
    N:  Jeffrey  Harris</p>
</blockquote>
</blockquote>
</blockquote>

<p>serializing will add any required computable attributes (like 'VERSION')</p>

<blockquote>
<blockquote>
<blockquote>
<p>j.serialize()
'BEGIN:VCARD\r\nVERSION:3.0\r\nEMAIL;TYPE=INTERNET:<a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>\r\nFN:Jeffrey Harris\r\nN:Harris;Jeffrey;;;\r\nEND:VCARD\r\n'
j.prettyPrint()
 VCARD
    VERSION: 3.0
    EMAIL: <a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>
    params for  EMAIL:
       TYPE ['INTERNET']
    FN: Jeffrey Harris
    N:  Jeffrey  Harris </p>
</blockquote>
</blockquote>
</blockquote>

<p>Parsing vCards
..............</p>

<blockquote>
<blockquote>
<blockquote>
<p>s = """
... BEGIN:VCARD
... VERSION:3.0
... EMAIL;TYPE=INTERNET:<a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>
... FN:Jeffrey Harris
... N:Harris;Jeffrey;;;
... END:VCARD
... """
v = vobject.readOne( s )
v.prettyPrint()
 VCARD
    VERSION: 3.0
    EMAIL: <a href="mailto:jeffrey@osafoundation.org">jeffrey@osafoundation.org</a>
    params for  EMAIL:
       TYPE [u'INTERNET']
    FN: Jeffrey Harris
    N:  Jeffrey  Harris
v.n.value.family
u'Harris'</p>
</blockquote>
</blockquote>
</blockquote>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/eventable/vobject">vObject</a> is maintained by <a href="https://github.com/eventable">eventable</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
